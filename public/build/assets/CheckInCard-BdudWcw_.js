import{m as u,h as r,j as o}from"./app-BQiZwsOn.js";import{B as x}from"./button-D_IoCf3i.js";import{C as p,c as j,d as k,e as C,a as N,b as g}from"./card-BIZgAz71.js";import{L as m}from"./label-Ct7DTcgm.js";import{S as l}from"./separator-DeShhMSk.js";import{u as H}from"./use-toast-C0cd4RmE.js";import v from"./TerlambatBadge-DOi8ZkpV.js";import{L as w}from"./log-out-Co03f1n1.js";import{L as Y}from"./log-in-Be8-Q7th.js";import"./index-5EmUfK6y.js";import"./index-CVr6GsiT.js";import"./utils-9ikzy2mT.js";import"./index-BdElTlul.js";import"./badge-sWmOlzJj.js";import"./createLucideIcon-BDS9ogiV.js";const R=({user:d,absensi:t})=>{const{toast:e}=H(),{data:c,setData:a,post:i,put:s}=u({tanggal:r().format("YYYY-MM-DD"),user_id:d.id,checkin:t!=null&&t.checkin?r(t==null?void 0:t.checkin).format("HH:mm"):null,checkout:t!=null&&t.checkout?r(t==null?void 0:t.checkout).format("HH:mm"):null}),h=()=>{s(route("absensi.checkout",t.id),{onSuccess:()=>{e({title:"Berhasil",description:"Selamat datang kembali"}),a("checkout",r().format("HH:mm"))}})},n=()=>{i(route("absensi.store"),{onSuccess:()=>{e({title:"Berhasil",description:"Selamat datang kembali"}),a("checkin",r().format("HH:mm"))},onError:f=>{e({title:"Gagal",description:JSON.stringify(f),variant:"destructive"})}})};return o.jsxs(p,{className:"w-full max-w-md",children:[o.jsxs(j,{className:"flex flex-row items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(k,{children:r().format("DD MMMM YYYY")}),o.jsx(C,{children:r().format("dddd")})]}),o.jsx(v,{terlambat:(t==null?void 0:t.terlambat)??!1})]}),o.jsx(l,{}),o.jsx(N,{className:"mt-5",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(m,{className:"font-bold opacity-50",children:"Check In Time"}),o.jsx("div",{className:"text-2xl font-mono font-bold",children:c.checkin??"-"})]}),o.jsxs("div",{children:[o.jsx(m,{className:"font-bold opacity-50",children:"Check Out Time"}),o.jsx("div",{className:"text-2xl font-mono font-bold",children:c.checkout??"-"})]})]})}),o.jsx(l,{}),o.jsx(g,{className:"mt-6 justify-between",children:o.jsxs(x,{className:"w-full",disabled:(t==null?void 0:t.completed)??!1,onClick:()=>{c.checkin===null?n():h()},children:[t?o.jsx(w,{className:"mr-2 h-4 w-4"}):o.jsx(Y,{className:"mr-2 h-4 w-4"}),"Absen ",t?"Keluar":"Masuk"]})})]})};export{R as default};
