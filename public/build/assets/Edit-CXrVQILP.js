import{r as m,j as e,m as V,S as q}from"./app-CiWKBCyD.js";import{F as S}from"./form-control-aj6OeMP6.js";import{B as O}from"./button-BUFxCghr.js";import{C as k,c as w,d as y,e as N,a as P,b as T}from"./card-C-ox2iht.js";import{I as U}from"./input-Dyto0Kw0.js";import{L as G}from"./label-CkglQJx4.js";import{u as W,c as X}from"./index-DldSYuJ6.js";import{u as $,c as b,g as J}from"./index-DAHdB36t.js";import{c as K}from"./index-DA3BWaOD.js";import{u as Q}from"./index-BQNoWzmF.js";import{u as Y}from"./index-BuKdNLTx.js";import{P as I}from"./index-DaICLFfZ.js";import{T as Z,a as ee,b as R,c as E}from"./tabs-hQrgRKyi.js";import{T as se}from"./textarea-B-Z2grMl.js";import{u as te}from"./use-toast-DwrnOz9-.js";import{A as re}from"./AuthenticatedLayout-Dm73AlnL.js";import{C as oe}from"./check-BiQjySpf.js";import"./index-gNT_dkD4.js";import"./createLucideIcon-C_pHTqs_.js";import"./index-BCxzE-zO.js";import"./Combination-B8_ZihL5.js";import"./index-DJnL3w6n.js";import"./dropdown-menu-D2cxqs3P.js";import"./separator-DGQtjd6H.js";import"./sheet-D9uO8P6K.js";import"./index-Yb7RgudO.js";import"./x-Iic46dIl.js";import"./index-DoLLRReV.js";import"./theme-provider-D1mGke9a.js";import"./plus-afwyho7G.js";import"./avatar-BTiELu_O.js";var g="Switch",[ae,Ve]=K(g),[ie,ne]=ae(g),B=m.forwardRef((s,i)=>{const{__scopeSwitch:t,name:c,checked:n,defaultChecked:l,required:p,disabled:a,value:u="on",onCheckedChange:h,form:r,...d}=s,[o,j]=m.useState(null),L=$(i,x=>j(x)),v=m.useRef(!1),C=o?r||!!o.closest("form"):!0,[f=!1,M]=W({prop:n,defaultProp:l,onChange:h});return e.jsxs(ie,{scope:t,checked:f,disabled:a,children:[e.jsx(I.button,{type:"button",role:"switch","aria-checked":f,"aria-required":p,"data-state":F(f),"data-disabled":a?"":void 0,disabled:a,value:u,...d,ref:L,onClick:X(s.onClick,x=>{M(z=>!z),C&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),C&&e.jsx(ce,{control:o,bubbles:!v.current,name:c,value:u,checked:f,required:p,disabled:a,form:r,style:{transform:"translateX(-100%)"}})]})});B.displayName=g;var _="SwitchThumb",D=m.forwardRef((s,i)=>{const{__scopeSwitch:t,...c}=s,n=ne(_,t);return e.jsx(I.span,{"data-state":F(n.checked),"data-disabled":n.disabled?"":void 0,...c,ref:i})});D.displayName=_;var ce=s=>{const{control:i,checked:t,bubbles:c=!0,...n}=s,l=m.useRef(null),p=Q(t),a=Y(i);return m.useEffect(()=>{const u=l.current,h=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(h,"checked").set;if(p!==t&&d){const o=new Event("click",{bubbles:c});d.call(u,t),u.dispatchEvent(o)}},[p,t,c]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:l,style:{...s.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(s){return s?"checked":"unchecked"}var H=B,de=D;const A=m.forwardRef(({className:s,...i},t)=>e.jsx(H,{className:b("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...i,ref:t,children:e.jsx(de,{className:b("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));A.displayName=H.displayName;const qe=({role:s,permissions:i})=>{const{toast:t}=te(),c=J(i,"group"),{data:n,setData:l,put:p,errors:a}=V({name:s.name,description:s.description}),u=(r,d)=>{q.post(route("role.assign"),{role:r,permission:d},{preserveScroll:!0,onSuccess:()=>t({description:"Success update permission for role"})})},h=r=>{r.preventDefault(),p(route("role.update",s.id),{onSuccess:()=>t({description:"Success update role name"}),preserveScroll:!0})};return e.jsx(re,{header:"Edit role information",children:e.jsxs(Z,{defaultValue:"information",children:[e.jsxs(ee,{children:[e.jsx(R,{value:"information",children:"Information"}),e.jsx(R,{value:"permissions",children:"Permission"})]}),e.jsx(E,{value:"information",children:e.jsxs(k,{children:[e.jsxs(w,{children:[e.jsxs(y,{children:["Edit ",s.name," role"]}),e.jsx(N,{children:s.description})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs(P,{className:"space-y-6",children:[e.jsx(S,{label:"Role name",error:a.name,children:e.jsx(U,{defaultValue:n.name,onChange:r=>l("name",r.target.value),className:b("col-span-3",a.name&&"border-destructive")})}),e.jsx(S,{label:"Description",error:a.description,children:e.jsx(se,{defaultValue:n.description,onChange:r=>l("description",r.target.value),className:b("col-span-3 flex gap-2",a.description&&"border-destructive")})})]}),e.jsx(T,{children:e.jsxs(O,{children:[e.jsx(oe,{}),"Update Role name"]})})]})]})}),e.jsx(E,{value:"permissions",children:e.jsxs(k,{children:[e.jsxs(w,{children:[e.jsx(y,{children:"Permission"}),e.jsx(N,{children:s.description})]}),e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-2 gap-10",children:c.map(({group:r,items:d})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-bold capitalize",children:r}),e.jsx("div",{className:"flex flex-col gap-2",children:d.map(o=>e.jsxs("div",{className:"flex cursor-pointer items-center space-x-2",children:[e.jsx(A,{id:o.id.toString(),checked:s.permissions.some(j=>j.id===o.id),onCheckedChange:()=>u(s.id,o.id)}),e.jsx(G,{htmlFor:o.id.toString(),children:o.name})]},o.id))})]},r))})}),e.jsx(T,{className:"justify-between"})]})})]})})};export{qe as default};
