import{m as y,j as s,S as R}from"./app-BQiZwsOn.js";import{F as m}from"./form-control-6GVn1LD1.js";import{B as D}from"./button-D_IoCf3i.js";import{C as d,c as p,d as l,e as x,a as u,b as h}from"./card-BIZgAz71.js";import{I as E}from"./input-aiqDfr5J.js";import{L as F}from"./label-Ct7DTcgm.js";import{S as k}from"./switch-HojDH2Hc.js";import{T as B,a as I,b as j,c as f}from"./tabs-BB-8IWHi.js";import{T as L}from"./textarea-CNxnbyRt.js";import{u as V}from"./use-toast-C0cd4RmE.js";import{A as w}from"./AuthenticatedLayout-CFvwMYqf.js";import{g as A,c as g}from"./utils-9ikzy2mT.js";import{C as P}from"./check-BMjm-cZT.js";import"./index-5EmUfK6y.js";import"./index-CVr6GsiT.js";import"./index-BdElTlul.js";import"./index-wdEqd1Hx.js";import"./index-DjAFWct7.js";import"./index-B8zq4kp7.js";import"./index-YKRvikXC.js";import"./index-CLFUnIJs.js";import"./createLucideIcon-BDS9ogiV.js";import"./index-W0-0SpwE.js";import"./Combination-CceQxd1H.js";import"./index-CCBMe6FI.js";import"./separator-DeShhMSk.js";import"./sheet-kdx1sFR5.js";import"./index-CwKCxxQj.js";import"./x-DYFvLs9u.js";import"./index-DGEKR4EI.js";import"./theme-provider-B512I2L1.js";import"./building-2-Bq5k5v2M.js";import"./avatar-1vn5zblJ.js";import"./log-out-Co03f1n1.js";const gs=({role:r,permissions:v})=>{const{toast:t}=V(),C=A(v,"group"),{data:n,setData:c,put:b,errors:o}=y({name:r.name,description:r.description}),S=(e,a)=>{R.post(route("role.assign"),{role:e,permission:a},{preserveScroll:!0,onSuccess:()=>t({description:"Success update permission for role"})})},N=e=>{e.preventDefault(),b(route("role.update",r.id),{onSuccess:()=>t({description:"Success update role name"}),preserveScroll:!0})};return s.jsx(w,{header:"Edit role information",children:s.jsxs(B,{defaultValue:"information",children:[s.jsxs(I,{children:[s.jsx(j,{value:"information",children:"Information"}),s.jsx(j,{value:"permissions",children:"Permission"})]}),s.jsx(f,{value:"information",children:s.jsxs(d,{children:[s.jsxs(p,{children:[s.jsxs(l,{children:["Edit ",r.name," role"]}),s.jsx(x,{children:r.description})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs(u,{className:"space-y-6",children:[s.jsx(m,{label:"Role name",error:o.name,children:s.jsx(E,{defaultValue:n.name,onChange:e=>c("name",e.target.value),className:g("col-span-3",o.name&&"border-destructive")})}),s.jsx(m,{label:"Description",error:o.description,children:s.jsx(L,{defaultValue:n.description,onChange:e=>c("description",e.target.value),className:g("col-span-3 flex gap-2",o.description&&"border-destructive")})})]}),s.jsx(h,{children:s.jsxs(D,{children:[s.jsx(P,{}),"Update Role name"]})})]})]})}),s.jsx(f,{value:"permissions",children:s.jsxs(d,{children:[s.jsxs(p,{children:[s.jsx(l,{children:"Permission"}),s.jsx(x,{children:r.description})]}),s.jsx(u,{children:s.jsx("div",{className:"grid grid-cols-2 gap-10",children:C.map(({group:e,items:a})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-bold capitalize",children:e}),s.jsx("div",{className:"flex flex-col gap-2",children:a.map(i=>s.jsxs("div",{className:"flex cursor-pointer items-center space-x-2",children:[s.jsx(k,{id:i.id.toString(),checked:r.permissions.some(T=>T.id===i.id),onCheckedChange:()=>S(r.id,i.id)}),s.jsx(F,{htmlFor:i.id.toString(),children:i.name})]},i.id))})]},e))})}),s.jsx(h,{className:"justify-between"})]})})]})})};export{gs as default};
